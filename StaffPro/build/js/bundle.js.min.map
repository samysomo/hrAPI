{"version":3,"sources":["crear.js","index.js","login.js","signin.js"],"names":["token","init","localStorage","getItem","document","querySelector","addEventListener","crearEmpleado","window","location","href","nombre","getElementById","value","apellido","correo","telefono","direccion","console","log","axios","headers","Authorization","method","url","data","then","res","alert","catch","err","onload","loadEmployee","get","displayEmployee","message","emp","tabla","e","tr","createElement","nombre_emp","innerHTML","appendChild","apellido_emp","correo_emp","telefono_emp","login","mail","pass","password","code","setItem","signin","name","lastname"],"mappings":"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","file":"bundle.js","sourcesContent":["window.onload = init;\r\nlet token;\r\n\r\nfunction init(){\r\n    if(localStorage.getItem(\"token\")){\r\n        token = localStorage.getItem(\"token\");\r\n\r\n        document.querySelector(\".boton-verde\").addEventListener(\"click\", crearEmpleado);\r\n    } else{\r\n        window.location.href = \"login.html\"\r\n    }\r\n}\r\n\r\nfunction crearEmpleado(){\r\n    let nombre = document.getElementById(\"nombre\").value;\r\n    let apellido = document.getElementById(\"apellido\").value;\r\n    let correo = document.getElementById(\"correo\").value;\r\n    let telefono = document.getElementById(\"telefono\").value;\r\n    let direccion = document.getElementById(\"direccion\").value;\r\n\r\n    console.log(nombre)\r\n    axios({\r\n        headers: {\"Authorization\": \"Bearer \" + token},\r\n        method: \"post\",\r\n        url: \"http://localhost:3000/empleado\",\r\n        data: {\r\n            nombre: nombre,\r\n            apellido: apellido,\r\n            correo: correo,\r\n            telefono: telefono,\r\n            direccion: direccion\r\n        }\r\n    }).then(function(res){\r\n        console.log(res);\r\n        alert(\"Empleado ingresado correctamente\");\r\n        window.location.href = \"login.html\";\r\n    }).catch(function(err){\r\n        console.log(err);\r\n    })\r\n\r\n}","//const empleado = require(\"../../../routes/empleado\");\r\n\r\nwindow.onload = init;\r\nlet headers = {};\r\nlet url = \"http://localhost:3000\";\r\n\r\nfunction init(){\r\n    if(localStorage.getItem(\"token\")){\r\n        token = localStorage.getItem(\"token\");\r\n        headers = {\r\n            headers: {\r\n                \"Authorization\": \"bearer \" + localStorage.getItem(\"token\")\r\n            }\r\n        }\r\n        loadEmployee();\r\n    } else{\r\n        window.location.href = \"index.html\";\r\n    }\r\n}\r\n\r\nfunction loadEmployee(){\r\n    axios.get(url + \"/empleado\", headers)\r\n    .then(function(res){\r\n        console.log(res)\r\n        displayEmployee(res.data.message);\r\n    }).catch(function(err){\r\n        console.log(err)\r\n    })\r\n}\r\n\r\nfunction displayEmployee(emp){\r\n    let tabla = document.querySelector(\".cuerpo_tabla\");\r\n    for (let e of emp){\r\n        let tr = document.createElement(\"tr\");\r\n        let nombre_emp = document.createElement(\"td\");\r\n        nombre_emp.innerHTML = e.nombre;\r\n        tr.appendChild(nombre_emp);\r\n\r\n        let apellido_emp = document.createElement(\"td\");\r\n        apellido_emp.innerHTML = e.apellido;\r\n        tr.appendChild(apellido_emp);\r\n\r\n        let correo_emp = document.createElement(\"td\");\r\n        correo_emp.innerHTML = e.correo;\r\n        tr.appendChild(correo_emp);\r\n\r\n        let telefono_emp = document.createElement(\"td\");\r\n        telefono_emp.innerHTML = e.telefono;\r\n        tr.appendChild(telefono_emp);\r\n\r\n        tr.addEventListener(\"click\", function(){\r\n            window.location.href = `empleado.html?nombre=${e.nombre}`;\r\n        });\r\n\r\n        tabla.appendChild(tr);\r\n\r\n    }\r\n}","window.onload = init;\r\n\r\nfunction init(){\r\n    if(!localStorage.getItem(\"token\")){\r\n        document.querySelector(\".boton-amarillo\").addEventListener(\"click\", () =>{\r\n            window.location.href = \"signin.html\"\r\n        });\r\n    \r\n        document.querySelector(\".boton-verde\").addEventListener(\"click\", login);\r\n    } else{\r\n        window.location.href = \"index.html\"\r\n    }\r\n    \r\n}\r\n\r\nfunction login(){\r\n    let mail = document.getElementById(\"input_mail\").value;\r\n    let pass = document.getElementById(\"input_password\").value;\r\n\r\n    axios({\r\n        method: \"post\",\r\n        url: \"http://localhost:3000/admin/login\",\r\n        data: {\r\n            correo: mail,\r\n            password: pass\r\n        }\r\n    }).then(function(res){\r\n        console.log(res);\r\n        if(res.data.code === 200){\r\n            localStorage.setItem(\"token\", res.data.message);\r\n            window.location.href = \"index.html\"\r\n        } else{\r\n            alert(\"Usuario y/o contraaseÃ±a incorrectos\")\r\n        }\r\n    }).catch(function(err){\r\n        console.log(err);\r\n    })\r\n}","window.onload = init;\r\n\r\nfunction init(){\r\n    if(!localStorage.getItem(\"token\")){\r\n        document.querySelector(\".boton-amarillo\").addEventListener(\"click\", () =>{\r\n            window.location.href = \"login.html\"\r\n        });\r\n    \r\n        document.querySelector(\".boton-verde\").addEventListener(\"click\", signin);\r\n    } else{\r\n        window.location.href = \"index.html\"\r\n    }\r\n    \r\n}\r\n\r\nfunction signin(){\r\n    let name = document.getElementById(\"input_name\").value;\r\n    let lastname = document.getElementById(\"input_lastname\").value;\r\n    let mail = document.getElementById(\"input_mail\").value;\r\n    let pass = document.getElementById(\"input_password\").value;\r\n\r\n    axios({\r\n        method: \"post\",\r\n        url: \"http://localhost:3000/admin/signin\",\r\n        data: {\r\n            nombre: name,\r\n            apellido: lastname,\r\n            correo: mail,\r\n            password: pass\r\n        }\r\n    }).then(function(res){\r\n        alert(\"Usuario ingresado correctamente\");\r\n        window.location.href = \"login.html\";\r\n    }).catch(function(err){\r\n        console.log(err);\r\n    })\r\n}"]}